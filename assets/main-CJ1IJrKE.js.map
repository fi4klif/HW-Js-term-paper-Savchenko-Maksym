{"version":3,"file":"main-CJ1IJrKE.js","sources":["../../src/js/api/filtersApi.js","../../src/js/api/exercisesApi.js","../../src/js/render/renderCategories.js","../../src/js/render/renderExercises.js","../../src/js/render/renderPagination.js","../../src/js/utils/state.js","../../src/js/ui/search.js","../../src/js/ui/filters.js","../../src/js/ui/pagination.js","../../src/js/api/quoteApi.js","../../src/js/ui/quote.js","../../src/js/utils/notifications.js","../../src/js/ui/rating.js","../../src/js/ui/modal.js","../../src/js/api/subscriptionApi.js","../../src/js/ui/footer.js","../../src/js/render/renderFavorites.js","../../src/js/ui/favorites.js","../../src/js/ui/header.js","../../src/js/ui/mobile-menu.js","../../src/js/ui/header-active.js","../../src/main.js"],"sourcesContent":["const API_BASE_URL = 'https://your-energy.b.goit.study/api';\n\nexport async function fetchFilters(filter, page = 1, limit = 12) {\n  const params = new URLSearchParams({ filter, page, limit });\n  try {\n    const response = await fetch(`${API_BASE_URL}/filters?${params}`);\n    if (!response.ok) throw new Error('Failed to fetch');\n    return await response.json();\n  } catch (error) {\n    console.error(error);\n    return null;\n  }\n}","const API_BASE_URL = 'https://your-energy.b.goit.study/api';\n\n/* Fetch Exercises List */\nexport async function fetchExercises(filter, name, keyword = '', page = 1, limit = 10) {\n  let filterKey = '';\n  if (filter === 'Body parts') filterKey = 'bodypart';\n  else if (filter === 'Muscles') filterKey = 'muscles';\n  else if (filter === 'Equipment') filterKey = 'equipment';\n\n  const params = new URLSearchParams({\n    [filterKey]: name,\n    keyword,\n    page,\n    limit,\n  });\n\n  try {\n    const response = await fetch(`${API_BASE_URL}/exercises?${params}`);\n    if (!response.ok) throw new Error('Failed to fetch exercises');\n    return await response.json();\n  } catch (error) {\n    console.error(error);\n    return null;\n  }\n}\n\n/* Fetch Single Exercise Details */\nexport async function fetchExerciseById(id) {\n  try {\n    const response = await fetch(`${API_BASE_URL}/exercises/${id}`);\n    if (!response.ok) throw new Error('Failed to fetch exercise details');\n    return await response.json();\n  } catch (error) {\n    console.error(error);\n    return null;\n  }\n}\n\n/* Send Rating (PATCH) */\nexport async function patchRating(id, ratingData) {\n  try {\n    const response = await fetch(`${API_BASE_URL}/exercises/${id}/rating`, {\n      method: 'PATCH',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(ratingData),\n    });\n\n    if (!response.ok) {\n        // Отримуємо текст помилки\n        const errorData = await response.json().catch(() => ({}));\n        // Якщо сервер повертає \"Such email already exists\", передаємо це далі\n        throw new Error(errorData.message || `Error ${response.status}`);\n    }\n\n    return await response.json();\n  } catch (error) {\n    console.error(error);\n    throw error;\n  }\n}","const categoriesList = document.getElementById('categoriesList');\n\nexport function renderCategories(categories) {\n  if (!categories || categories.length === 0) return;\n\n  const markup = categories.map((category) => {\n    const { filter, name, imgUrl, imgURL } = category;\n    const imageSrc = imgUrl || imgURL;\n    const style = `background: linear-gradient(0deg, rgba(17, 17, 17, 0.5), rgba(17, 17, 17, 0.5)), url('${imageSrc}') center/cover no-repeat;`;\n\n    return `\n      <li class=\"category-card\" style=\"${style}\" data-name=\"${name}\" data-filter=\"${filter}\">\n        <div class=\"category-content\">\n            <h3 class=\"category-name\">${name}</h3>\n            <p class=\"category-type\">${filter}</p>\n        </div>\n      </li>\n    `;\n  }).join('');\n\n  categoriesList.innerHTML = markup;\n}","const exercisesList = document.getElementById('exercisesList');\n\nfunction capitalize(str) {\n  if (!str) return '';\n  return str.charAt(0).toUpperCase() + str.slice(1);\n}\n\nexport function renderExercises(exercises) {\n  if (!exercisesList) return;\n\n  if (exercises.length === 0) {\n    exercisesList.innerHTML = '<p class=\"no-results\">No exercises found.</p>';\n    return;\n  }\n\n  const markup = exercises.map(({ _id, rating, name, burnedCalories, bodyPart, target }) => {\n    return `\n      <div class=\"exercise-card\">\n        <div class=\"exercise-header\">\n          <div class=\"exercise-badge\">WORKOUT</div>\n          <div class=\"exercise-rating\">\n            <span>${rating.toFixed(1)}</span>\n            <svg class=\"icon-star\" width=\"18\" height=\"18\">\n              <use href=\"./img/icons/star.svg\"></use> \n            </svg>\n          </div>\n          <button class=\"exercise-start-btn\" data-id=\"${_id}\">\n            Start\n            <svg class=\"icon-arrow\" width=\"16\" height=\"16\">\n               <use href=\"./img/menu/arrow.svg\"></use>\n            </svg>\n          </button>\n        </div>\n\n        <div class=\"exercise-title-row\">\n          <div class=\"icon-wrapper\">\n             <svg width=\"24\" height=\"24\">\n               <use href=\"./img/icons/men-run-black.svg\"></use>\n             </svg>\n          </div>\n          <h3 class=\"exercise-title\">${capitalize(name)}</h3>\n        </div>\n\n        <ul class=\"exercise-info\">\n          <li><span>Burned calories:</span> ${burnedCalories} / 3 min</li>\n          <li><span>Body part:</span> ${capitalize(bodyPart)}</li>\n          <li><span>Target:</span> ${capitalize(target)}</li>\n        </ul>\n      </div>\n    `;\n  }).join('');\n\n  exercisesList.innerHTML = markup;\n}","const paginationContainer = document.getElementById('pagination');\n\nexport function renderPagination(totalPages, currentPage = 1) {\n  let markup = '';\n\n  if (totalPages <= 1) {\n    paginationContainer.innerHTML = '';\n    return;\n  }\n\n  markup += `\n    <button class=\"pagination-btn nav-btn\" data-page=\"1\" ${currentPage === 1 ? 'disabled' : ''}>«</button>\n    <button class=\"pagination-btn nav-btn\" data-page=\"${currentPage - 1}\" ${currentPage === 1 ? 'disabled' : ''}>‹</button>\n  `;\n\n  const delta = 1;\n  for (let i = 1; i <= totalPages; i++) {\n    if (i === 1 || i === totalPages || (i >= currentPage - delta && i <= currentPage + delta)) {\n      markup += `<button class=\"pagination-btn ${i === currentPage ? 'active' : ''}\" data-page=\"${i}\">${i}</button>`;\n    } else if (i === currentPage - delta - 1 || i === currentPage + delta + 1) {\n      markup += `<span class=\"pagination-dots\">...</span>`;\n    }\n  }\n\n  markup += `\n    <button class=\"pagination-btn nav-btn\" data-page=\"${currentPage + 1}\" ${currentPage === totalPages ? 'disabled' : ''}>›</button>\n    <button class=\"pagination-btn nav-btn\" data-page=\"${totalPages}\" ${currentPage === totalPages ? 'disabled' : ''}>»</button>\n  `;\n\n  paginationContainer.innerHTML = markup;\n}","export const state = {\n  currentFilter: 'Muscles',\n  currentPage: 1,\n  totalPages: 1,\n  limit: 12,\n  searchQuery: '', \n  \n  activeCategory: '',       \n  activeCategoryFilter: ''  \n};","import { state } from '../utils/state.js';\n\nconst searchForm = document.getElementById('searchForm');\nconst searchInput = document.getElementById('searchInput');\n\nexport function initSearch(onSearch) {\n  if (!searchForm || !searchInput) return;\n\n  searchForm.addEventListener('submit', (e) => {\n    e.preventDefault();\n    const query = searchInput.value.trim();\n    state.searchQuery = query;\n    state.currentPage = 1;\n\n    if (typeof onSearch === 'function') {\n      onSearch();\n    }\n  });\n  \n  searchInput.addEventListener('input', (e) => {\n     if (e.target.value === '') {\n         state.searchQuery = '';\n     }\n  });\n}\n\nexport function resetSearch() {\n  if (searchInput) {\n    searchInput.value = '';\n    state.searchQuery = '';\n  }\n}\n\nexport function toggleSearchVisibility(isVisible) {\n  if (!searchForm) return;\n  \n  if (isVisible) {\n    searchForm.classList.add('active');\n  } else {\n    searchForm.classList.remove('active');\n  }\n}","import { fetchFilters } from '../api/filtersApi.js';\nimport { fetchExercises } from '../api/exercisesApi.js';\nimport { renderCategories } from '../render/renderCategories.js';\nimport { renderExercises } from '../render/renderExercises.js';\nimport { renderPagination } from '../render/renderPagination.js';\nimport { state } from '../utils/state.js';\nimport { resetSearch, toggleSearchVisibility } from './search.js';\n\nconst filterButtons = document.getElementById('filterButtons');\nconst exercisesCategory = document.getElementById('exercisesCategory');\nconst categoriesList = document.getElementById('categoriesList');\nconst exercisesList = document.getElementById('exercisesList');\nconst exercisesHeaderWrapper = document.querySelector('.exercises-header-wrapper');\n\nexport async function handleFilters() {\n  const data = await fetchFilters(state.currentFilter, state.currentPage, state.limit);\n\n  if (exercisesCategory) exercisesCategory.textContent = '';\n  \n  if (categoriesList) categoriesList.style.display = 'grid';\n  if (exercisesList) exercisesList.style.display = 'none';\n\n  toggleSearchVisibility(false);\n\n  if (data) {\n    state.totalPages = data.totalPages;\n    renderCategories(data.results);\n    renderPagination(state.totalPages, state.currentPage);\n    initCategoryCardListeners();\n  }\n}\n\nfunction initCategoryCardListeners() {\n  const cards = document.querySelectorAll('.category-card');\n  cards.forEach(card => {\n    card.addEventListener('click', () => {\n      const categoryName = card.dataset.name;\n      const filter = card.dataset.filter;\n\n      state.activeCategory = categoryName;\n      state.activeCategoryFilter = filter;\n      state.currentPage = 1; \n      \n      if (categoriesList) categoriesList.style.display = 'none';\n      if (exercisesList) exercisesList.style.display = 'grid';\n      if (exercisesCategory) exercisesCategory.textContent = ` / ${categoryName}`;\n      \n      toggleSearchVisibility(true);\n      handleLoadExercises();\n    });\n  });\n}\n\nexport async function handleLoadExercises() {\n  const data = await fetchExercises(\n    state.activeCategoryFilter, \n    state.activeCategory, \n    state.searchQuery, \n    state.currentPage, \n    state.limit \n  );\n\n  if (data) {\n    state.totalPages = data.totalPages;\n    renderExercises(data.results);\n    renderPagination(state.totalPages, state.currentPage);\n    \n    if (exercisesHeaderWrapper) {\n       exercisesHeaderWrapper.scrollIntoView({ behavior: 'smooth' });\n    }\n  }\n}\n\nexport function initFilterListeners() {\n  if (!filterButtons) return;\n\n  filterButtons.addEventListener('click', async (e) => {\n    if (e.target.classList.contains('filter-btn')) {\n      document.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active'));\n      e.target.classList.add('active');\n\n      const newFilter = e.target.dataset.filter;\n      state.currentFilter = newFilter;\n      state.currentPage = 1;\n      \n      resetSearch();\n      state.activeCategory = ''; \n      \n      await handleFilters();\n    }\n  });\n}","import { state } from '../utils/state.js';\nimport { handleFilters, handleLoadExercises } from './filters.js';\n\nconst paginationContainer = document.getElementById('pagination');\nconst exercisesList = document.getElementById('exercisesList');\nconst categoriesList = document.getElementById('categoriesList');\n\nexport function initPaginationListeners() {\n  if (!paginationContainer) return;\n\n  paginationContainer.addEventListener('click', (e) => {\n    if (!exercisesList && !categoriesList) return;\n\n    const btn = e.target.closest('.pagination-btn');\n    if (!btn || btn.disabled || btn.classList.contains('active')) return;\n\n    const newPage = Number(btn.dataset.page);\n    \n    if (newPage) {\n      state.currentPage = newPage;\n      \n      if (exercisesList && exercisesList.style.display !== 'none') {\n        handleLoadExercises();\n      } else {\n        handleFilters();\n      }\n      \n      const filtersSection = document.querySelector('.exercises-section');\n      if (filtersSection) {\n        filtersSection.scrollIntoView({ behavior: 'smooth' });\n      }\n    }\n  });\n} ","const API_BASE_URL = 'https://your-energy.b.goit.study/api';\n\nexport async function fetchQuote() {\n  try {\n    const response = await fetch(`${API_BASE_URL}/quote`);\n    if (!response.ok) {\n      throw new Error(`Error fetching quote: ${response.status}`);\n    }\n    return await response.json();\n  } catch (error) {\n    console.error('Fetch quote error:', error);\n    return null;\n  }\n}","import { fetchQuote } from '../api/quoteApi.js';\n\nconst quoteText = document.getElementById('quoteText');\nconst quoteAuthor = document.getElementById('quoteAuthor');\nconst LS_KEY_QUOTE = 'quoteData';\nconst LS_KEY_DATE = 'quoteDate';\n\nexport async function initQuote() {\n  if (!quoteText || !quoteAuthor) return;\n\n  const today = new Date().toDateString();\n  const savedDate = localStorage.getItem(LS_KEY_DATE);\n  const savedQuoteData = localStorage.getItem(LS_KEY_QUOTE);\n\n  if (savedDate === today && savedQuoteData) {\n    try {\n      renderQuote(JSON.parse(savedQuoteData));\n      return;\n    } catch (err) { console.error(err); }\n  }\n\n  const data = await fetchQuote();\n  if (data) {\n    localStorage.setItem(LS_KEY_QUOTE, JSON.stringify(data));\n    localStorage.setItem(LS_KEY_DATE, today);\n    renderQuote(data);\n  }\n}\n\nfunction renderQuote({ author, quote }) {\n  quoteText.textContent = quote;\n  quoteAuthor.textContent = author;\n}","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst defaultConfig = {\n    position: 'topRight',\n    timeout: 3000,\n    transitionIn: 'fadeInDown',\n    transitionOut: 'fadeOutUp',\n};\n\nexport const showSuccess = (message) => {\n    iziToast.success({\n        ...defaultConfig,\n        message: message,\n        backgroundColor: '#242424',\n        messageColor: '#F4F4F4',\n        iconColor: '#EEA10C',\n        progressBarColor: '#EEA10C',\n    });\n};\n\nexport const showError = (message) => {\n    iziToast.error({\n        ...defaultConfig,\n        message: message,\n        backgroundColor: '#E9003F',\n        messageColor: '#F4F4F4',\n        iconColor: '#F4F4F4',\n        progressBarColor: '#F4F4F4',\n    });\n};","import { patchRating } from '../api/exercisesApi.js';\nimport { showSuccess, showError } from '../utils/notifications.js';\n\nconst ratingModal = document.getElementById('ratingModal');\nconst ratingForm = document.getElementById('ratingForm');\nconst closeBtn = document.getElementById('ratingModalClose');\nconst starsContainer = document.getElementById('ratingStars');\nconst ratingValueDisplay = document.getElementById('ratingValueDisplay');\n\nlet currentExerciseId = null;\n\nexport function initRating() {\n  if (!ratingModal || !ratingForm) return;\n\n  closeBtn.addEventListener('click', closeRatingModal);\n  ratingModal.addEventListener('click', (e) => {\n    if (e.target === ratingModal) closeRatingModal();\n  });\n\n  starsContainer.addEventListener('change', (e) => {\n    const value = parseInt(e.target.value);\n    ratingValueDisplay.textContent = value.toFixed(1);\n    updateStarsVisuals(value);\n  });\n  \n  ratingForm.addEventListener('submit', handleRatingSubmit);\n}\n\nexport function openRatingModal(id) {\n  if (!ratingModal) return;\n  currentExerciseId = id;\n  ratingModal.classList.add('is-open');\n  resetRatingForm();\n}\n\nfunction closeRatingModal() {\n  ratingModal.classList.remove('is-open');\n}\n\nfunction updateStarsVisuals(rating) {\n  const labels = starsContainer.querySelectorAll('.rating-star-label');\n  labels.forEach((label, index) => {\n    const useTag = label.querySelector('use');\n    if (index < rating) {\n      useTag.setAttribute('href', './img/icons/star.svg');\n    } else {\n      useTag.setAttribute('href', './img/icons/zero-star.svg');\n    }\n  });\n}\n\nfunction resetRatingForm() {\n  ratingForm.reset();\n  ratingValueDisplay.textContent = '0.0';\n  updateStarsVisuals(0); \n}\n\nasync function handleRatingSubmit(e) {\n  e.preventDefault();\n\n  const formData = new FormData(ratingForm);\n  const ratingValue = formData.get('rate');\n  const email = formData.get('email');\n  const review = formData.get('review');\n\n  if (!ratingValue) {\n    showError('Please select a rating');\n    return;\n  }\n\n  const data = {\n    rate: parseInt(ratingValue),\n    email: email,\n    review: review\n  };\n\n  try {\n    await patchRating(currentExerciseId, data);\n    showSuccess('Thank you for your feedback!');\n    closeRatingModal();\n  } catch (error) {\n    if (error.message.includes('409')) {\n       showError('You have already rated this exercise.');\n    } else {\n       showError('Something went wrong. Please try again.');\n    }\n  }\n}","import { fetchExerciseById } from '../api/exercisesApi.js';\nimport { openRatingModal } from './rating.js';\n\nconst modal = document.getElementById('exerciseModal');\nconst modalCloseBtn = document.getElementById('modalClose');\nconst modalBody = document.getElementById('modalBody'); \n\nconst LS_KEY_FAVORITES = 'favorites';\n\nfunction onEscClick(event) {\n  if (event.key === 'Escape') {\n    closeModal();\n  }\n}\n\nexport async function openExerciseModal(id) {\n  if (!modal) return;\n\n  modalBody.innerHTML = '<div class=\"loader\" style=\"text-align:center; color:white; padding: 20px;\">Loading...</div>';\n  modal.classList.add('is-open');\n  document.body.style.overflow = 'hidden';\n  \n  window.addEventListener('keydown', onEscClick);\n\n  const exercise = await fetchExerciseById(id);\n\n  if (!exercise) {\n    modalBody.innerHTML = '<p style=\"color:white; text-align:center;\">Error loading details</p>';\n    return;\n  }\n\n  renderModalContent(exercise);\n  setupModalListeners(exercise);\n}\n\nfunction closeModal() {\n  modal.classList.remove('is-open');\n  document.body.style.overflow = '';\n  window.removeEventListener('keydown', onEscClick);\n}\n\nfunction renderModalContent(exercise) {\n  const { _id, gifUrl, name, rating, target, bodyPart, equipment, popularity, burnedCalories, time, description } = exercise;\n\n  const favorites = JSON.parse(localStorage.getItem(LS_KEY_FAVORITES)) || [];\n  const isFavorite = favorites.some(item => item._id === _id);\n\n  let starsMarkup = '';\n  const roundedRating = Math.round(rating);\n\n  for (let i = 1; i <= 5; i++) {\n    const starIcon = i <= roundedRating ? './img/icons/star.svg' : './img/icons/zero-star.svg';\n    \n    starsMarkup += `\n      <svg width=\"18\" height=\"18\">\n         <use href=\"${starIcon}\"></use>\n      </svg>\n    `;\n  }\n\n  modalBody.innerHTML = `\n    <div class=\"modal-inner-flex\"> \n      <div class=\"modal-gif-wrapper\">\n        <img src=\"${gifUrl}\" alt=\"${name}\" class=\"modal-gif\" />\n      </div>\n\n      <div class=\"modal-right-side\">\n        <h3 class=\"modal-title\">${name}</h3>\n        \n        <div class=\"modal-rating-wrapper\">\n          <span class=\"modal-rating-value\">${rating.toFixed(1)}</span>\n          ${starsMarkup}\n        </div>\n\n        <div class=\"modal-divider\"></div>\n\n        <div class=\"modal-details-list\">\n          <div class=\"modal-details-item\">\n            <span class=\"modal-details-label\">Target</span>\n            <span class=\"modal-details-value\">${target}</span>\n          </div>\n          <div class=\"modal-details-item\">\n            <span class=\"modal-details-label\">Body Part</span>\n            <span class=\"modal-details-value\">${bodyPart}</span>\n          </div>\n          <div class=\"modal-details-item\">\n            <span class=\"modal-details-label\">Equipment</span>\n            <span class=\"modal-details-value\">${equipment}</span>\n          </div>\n          <div class=\"modal-details-item\">\n            <span class=\"modal-details-label\">Popular</span>\n            <span class=\"modal-details-value\">${popularity}</span>\n          </div>\n          <div class=\"modal-details-item\">\n            <span class=\"modal-details-label\">Burned Calories</span>\n            <span class=\"modal-details-value\">${burnedCalories}/${time} min</span>\n          </div>\n        </div>\n\n        <div class=\"modal-divider\"></div>\n\n        <p class=\"modal-description\">${description}</p>\n      </div>\n    </div>\n\n    <div class=\"modal-buttons\">\n      <button class=\"btn-favorites ${isFavorite ? 'is-favorite' : ''}\" id=\"btnAddToFavorites\">\n        <span>${isFavorite ? 'Remove from favorites' : 'Add to favorites'}</span>\n        <svg width=\"18\" height=\"18\">\n            <use href=\"./img/menu/heart.svg\"></use> \n        </svg>\n      </button>\n      \n      <button class=\"btn-rating\" id=\"btnGiveRating\">\n        Give a rating\n      </button>\n    </div>\n  `;\n}\n\nfunction setupModalListeners(exercise) {\n  const btnFav = document.getElementById('btnAddToFavorites');\n  \n  if (btnFav) {\n    btnFav.addEventListener('click', () => {\n      const favorites = JSON.parse(localStorage.getItem(LS_KEY_FAVORITES)) || [];\n      const index = favorites.findIndex(item => item._id === exercise._id);\n\n      if (index === -1) {\n        favorites.push(exercise);\n        btnFav.querySelector('span').textContent = 'Remove from favorites';\n        btnFav.classList.add('is-favorite');\n      } else {\n        favorites.splice(index, 1);\n        btnFav.querySelector('span').textContent = 'Add to favorites';\n        btnFav.classList.remove('is-favorite');\n      }\n\n      localStorage.setItem(LS_KEY_FAVORITES, JSON.stringify(favorites));\n    });\n  }\n\n  const btnRate = document.getElementById('btnGiveRating');\n  if (btnRate) {\n    btnRate.addEventListener('click', () => {\n        closeModal();\n        openRatingModal(exercise._id);\n    });\n  }\n}\n\nexport function initModal() {\n  if (!modal) return;\n  modalCloseBtn.addEventListener('click', closeModal);\n  modal.addEventListener('click', (e) => {\n    if (e.target === modal) closeModal();\n  });\n}","const API_BASE_URL = 'https://your-energy.b.goit.study/api';\n\nexport async function subscribeToNewsletter(email) {\n  try {\n    const response = await fetch(`${API_BASE_URL}/subscription`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ email }),\n    });\n\n    // 409 Conflict - означає, що такий email вже підписаний\n    if (response.status === 409) {\n        throw new Error('This email is already subscribed.');\n    }\n\n    if (!response.ok) {\n      throw new Error('Failed to subscribe. Please try again.');\n    }\n\n    return await response.json();\n  } catch (error) {\n    console.error(error);\n    throw error;\n  }\n}","import { subscribeToNewsletter } from '../api/subscriptionApi.js';\nimport { showSuccess, showError } from '../utils/notifications.js';\n\nconst footerForm = document.getElementById('subscribeForm');\nconst footerEmail = document.getElementById('subscribeEmail');\n\nexport function initFooter() {\n  if (!footerForm) return;\n\n  footerForm.addEventListener('submit', handleSubscription);\n}\n\nasync function handleSubscription(e) {\n  e.preventDefault();\n\n  const email = footerEmail.value.trim();\n\n  if (!email) {\n    showError('Please enter a valid email address.');\n    return;\n  }\n\n  try {\n    const response = await subscribeToNewsletter(email);\n    \n    showSuccess(response.message || 'We’re excited to have you on board!');\n    footerForm.reset();\n    \n  } catch (error) {\n    showError(error.message || 'Something went wrong.');\n  }\n}","const favoritesList = document.getElementById('favoritesList');\n\nfunction capitalize(str) {\n  if (!str) return '';\n  return str.charAt(0).toUpperCase() + str.slice(1);\n}\n\nexport function renderFavoritesMarkup(exercises) {\n  if (!favoritesList) return;\n\n  if (!exercises || exercises.length === 0) {\n    favoritesList.innerHTML = `\n      <div class=\"favorites-empty\">\n        <p class=\"favorites-empty-text\">It appears that you haven't added any exercises to your favorites yet...</p>\n        <a href=\"./index.html\" class=\"favorites-link\">To the exercises</a>\n      </div>\n    `;\n    return;\n  }\n\n  const markup = exercises.map(({ _id, name, burnedCalories, bodyPart, target }) => {\n    return `\n      <div class=\"exercise-card\">\n        <div class=\"exercise-header\">\n          <div class=\"exercise-badge\">WORKOUT</div>\n          \n          <button class=\"exercise-remove-btn\" data-id=\"${_id}\">\n            <svg aria-label=\"Remove\">\n              <use href=\"./img/icons/trash.svg\"></use>\n              </svg>\n          </button>\n\n          <button class=\"exercise-start-btn\" data-id=\"${_id}\">\n            Start\n            <svg class=\"icon-arrow\" width=\"16\" height=\"16\">\n               <use href=\"./img/menu/arrow.svg\"></use>\n            </svg>\n          </button>\n        </div>\n\n        <div class=\"exercise-title-row\">\n          <div class=\"icon-wrapper\">\n             <svg width=\"24\" height=\"24\">\n               <use href=\"./img/icons/men-run-black.svg\"></use>\n             </svg>\n          </div>\n          <h3 class=\"exercise-title\">${capitalize(name)}</h3>\n        </div>\n\n        <ul class=\"exercise-info\">\n          <li><span>Burned calories:</span> ${burnedCalories} / 3 min</li>\n          <li><span>Body part:</span> ${capitalize(bodyPart)}</li>\n          <li><span>Target:</span> ${capitalize(target)}</li>\n        </ul>\n      </div>\n    `;\n  }).join('');\n\n  favoritesList.innerHTML = markup;\n}","import { renderFavoritesMarkup } from '../render/renderFavorites.js';\nimport { renderPagination } from '../render/renderPagination.js';\nimport { openExerciseModal } from './modal.js';\n\nconst favoritesList = document.getElementById('favoritesList');\nconst favoritesEmpty = document.getElementById('favoritesEmpty');\nconst paginationContainer = document.getElementById('pagination');\n\nconst LS_KEY_FAVORITES = 'favorites';\nconst ITEMS_PER_PAGE_MOBILE = 8; \n\nlet currentPage = 1;\n\nexport function initFavorites() {\n  if (!favoritesList) return; \n\n  loadFavorites();\n\n  favoritesList.addEventListener('click', handleListClick);\n  \n  if (paginationContainer) {\n    paginationContainer.addEventListener('click', handlePaginationClick);\n  }\n\n  window.addEventListener('resize', () => {\n    loadFavorites();\n  });\n}\n\nfunction loadFavorites() {\n  const favorites = JSON.parse(localStorage.getItem(LS_KEY_FAVORITES)) || [];\n\n  if (favorites.length === 0) {\n    favoritesList.innerHTML = '';\n    favoritesList.style.display = 'none';\n    if (favoritesEmpty) favoritesEmpty.style.display = 'block';\n    if (paginationContainer) paginationContainer.innerHTML = '';\n    return;\n  }\n\n  if (favoritesEmpty) favoritesEmpty.style.display = 'none';\n  favoritesList.style.display = 'grid';\n\n  const isDesktop = window.innerWidth >= 1440; \n  \n  let itemsToRender = favorites;\n  \n  if (isDesktop) {\n    if (paginationContainer) paginationContainer.innerHTML = '';\n  } else {\n    const totalPages = Math.ceil(favorites.length / ITEMS_PER_PAGE_MOBILE);\n    \n    if (currentPage > totalPages) {\n      currentPage = totalPages || 1;\n    }\n\n    const start = (currentPage - 1) * ITEMS_PER_PAGE_MOBILE;\n    const end = start + ITEMS_PER_PAGE_MOBILE;\n    itemsToRender = favorites.slice(start, end);\n\n    if (totalPages > 1) {\n      renderPagination(totalPages, currentPage);\n    } else {\n      if (paginationContainer) paginationContainer.innerHTML = '';\n    }\n  }\n\n  renderFavoritesMarkup(itemsToRender);\n}\n\nfunction handleListClick(e) {\n  const removeBtn = e.target.closest('.exercise-remove-btn');\n  const startBtn = e.target.closest('.exercise-start-btn');\n\n  if (removeBtn) {\n    e.preventDefault(); \n    const id = removeBtn.dataset.id;\n    removeFavorite(id);\n    return;\n  }\n\n  if (startBtn) {\n    e.preventDefault();\n    const id = startBtn.dataset.id;\n    openExerciseModal(id);\n  }\n}\n\nfunction removeFavorite(id) {\n  const favorites = JSON.parse(localStorage.getItem(LS_KEY_FAVORITES)) || [];\n  const newFavorites = favorites.filter(item => item._id !== id);\n  localStorage.setItem(LS_KEY_FAVORITES, JSON.stringify(newFavorites));\n  \n  const totalPages = Math.ceil(newFavorites.length / ITEMS_PER_PAGE_MOBILE);\n  if (currentPage > totalPages && currentPage > 1) {\n      currentPage = totalPages;\n  }\n\n  loadFavorites();\n}\n\nfunction handlePaginationClick(e) {\n  const btn = e.target.closest('.pagination-btn');\n  if (!btn || btn.disabled || btn.classList.contains('active')) return;\n\n  const newPage = Number(btn.dataset.page);\n  if (newPage) {\n    currentPage = newPage;\n    loadFavorites();\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  }\n}","\nexport function initHeader() {\n  const navLinks = document.querySelectorAll('.nav-link');\n  const mobileNavLinks = document.querySelectorAll('.mobile-nav-link');\n  const currentPath = window.location.pathname; \n\n  const setActiveLink = (links) => {\n    links.forEach(link => {\n      const href = link.getAttribute('href').replace('./', '');\n      \n      \n      const isHome = (currentPath === '/' || currentPath.endsWith('index.html')) && href === 'index.html';\n      const isCurrentPage = currentPath.endsWith(href);\n\n      if (isHome || (href !== 'index.html' && isCurrentPage)) {\n        link.classList.add('nav-link-active');\n      } else {\n        link.classList.remove('nav-link-active');\n      }\n    });\n  };\n\n  setActiveLink(navLinks);\n  setActiveLink(mobileNavLinks);\n}","export function initMobileMenu() {\n  const burgerBtn = document.getElementById('burgerBtn');\n  const mobileMenu = document.getElementById('mobileMenu');\n  const closeBtn = document.getElementById('mobileMenuCloseBtn');\n  const navLinks = document.querySelectorAll('.mobile-nav-link');\n\n  if (!burgerBtn || !mobileMenu || !closeBtn) return;\n\n  burgerBtn.addEventListener('click', () => {\n    mobileMenu.classList.add('is-open');\n    document.body.style.overflow = 'hidden'; \n  });\n\n  const closeMenu = () => {\n    mobileMenu.classList.remove('is-open');\n    document.body.style.overflow = ''; \n  };\n\n  closeBtn.addEventListener('click', closeMenu);\n\n  navLinks.forEach(link => {\n    link.addEventListener('click', closeMenu);\n  });\n}","export function initHeaderActive() {\n  const currentPath = window.location.pathname;\n  const navLinks = document.querySelectorAll('.nav-link, .mobile-nav-link');\n\n  navLinks.forEach(link => {\n    link.classList.remove('nav-link-active');\n    link.style.color = '';\n\n    const linkHref = link.getAttribute('href');\n\n    if (\n      (currentPath.endsWith('/') && linkHref.includes('index.html')) ||\n      (currentPath.includes('index.html') && linkHref.includes('index.html')) ||\n      (currentPath.includes('page-2.html') && linkHref.includes('page-2.html'))\n    ) {\n      if (link.classList.contains('nav-link')) {\n        link.classList.add('nav-link-active');\n      } else {\n        link.style.color = '#F4F4F4';\n      }\n    }\n  });\n}","import { initFilterListeners, handleFilters, handleLoadExercises } from './js/ui/filters.js';\nimport { initPaginationListeners } from './js/ui/pagination.js';\nimport { initSearch, toggleSearchVisibility } from './js/ui/search.js';\nimport { initQuote } from './js/ui/quote.js';\nimport { initModal, openExerciseModal } from './js/ui/modal.js';\nimport { initRating } from './js/ui/rating.js';\nimport { initFooter } from './js/ui/footer.js';\nimport { initFavorites } from './js/ui/favorites.js';\nimport { initHeader } from './js/ui/header.js';\nimport { initMobileMenu } from './js/ui/mobile-menu.js';\nimport { initHeaderActive } from './js/ui/header-active.js';\n\n/* Initialization */\ninitHeaderActive();\ninitMobileMenu();\ninitHeader();\ninitQuote();\ninitSearch(handleLoadExercises);\ninitFilterListeners();\ninitPaginationListeners();\ninitModal();\ninitRating();\ninitFooter(); \ninitFavorites();\n\n/* Initial State */\ntoggleSearchVisibility(false);\n\n/* First Render */\nconst categoriesList = document.getElementById('categoriesList');\nif (categoriesList) {\n    handleFilters();\n}\n\n/* Global Listeners */\nconst exercisesList = document.getElementById('exercisesList');\nif (exercisesList) {\n  exercisesList.addEventListener('click', (e) => {\n    const btn = e.target.closest('.exercise-start-btn');\n    if (btn) {\n      const id = btn.dataset.id;\n      openExerciseModal(id);\n    }\n  });\n}"],"names":["API_BASE_URL","fetchFilters","filter","page","limit","params","response","error","fetchExercises","name","keyword","filterKey","fetchExerciseById","id","patchRating","ratingData","errorData","categoriesList","renderCategories","categories","markup","category","imgUrl","imgURL","exercisesList","capitalize","str","renderExercises","exercises","_id","rating","burnedCalories","bodyPart","target","paginationContainer","renderPagination","totalPages","currentPage","delta","i","state","searchForm","searchInput","initSearch","onSearch","e","query","resetSearch","toggleSearchVisibility","isVisible","filterButtons","exercisesCategory","exercisesHeaderWrapper","handleFilters","data","initCategoryCardListeners","card","categoryName","handleLoadExercises","initFilterListeners","btn","newFilter","initPaginationListeners","newPage","filtersSection","fetchQuote","quoteText","quoteAuthor","LS_KEY_QUOTE","LS_KEY_DATE","initQuote","today","savedDate","savedQuoteData","renderQuote","err","author","quote","defaultConfig","showSuccess","message","iziToast","showError","ratingModal","ratingForm","closeBtn","starsContainer","ratingValueDisplay","currentExerciseId","initRating","closeRatingModal","value","updateStarsVisuals","handleRatingSubmit","openRatingModal","resetRatingForm","label","index","useTag","formData","ratingValue","email","review","modal","modalCloseBtn","modalBody","LS_KEY_FAVORITES","onEscClick","event","closeModal","openExerciseModal","exercise","renderModalContent","setupModalListeners","gifUrl","equipment","popularity","time","description","isFavorite","item","starsMarkup","roundedRating","starIcon","btnFav","favorites","btnRate","initModal","subscribeToNewsletter","footerForm","footerEmail","initFooter","handleSubscription","favoritesList","renderFavoritesMarkup","favoritesEmpty","ITEMS_PER_PAGE_MOBILE","initFavorites","loadFavorites","handleListClick","handlePaginationClick","isDesktop","itemsToRender","start","end","removeBtn","startBtn","removeFavorite","newFavorites","initHeader","navLinks","mobileNavLinks","currentPath","setActiveLink","links","link","href","isHome","isCurrentPage","initMobileMenu","burgerBtn","mobileMenu","closeMenu","initHeaderActive","linkHref"],"mappings":"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"}