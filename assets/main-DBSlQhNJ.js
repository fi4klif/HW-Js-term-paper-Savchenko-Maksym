(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const y of o.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&r(y)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();const d="https://your-energy.b.goit.study/api";let p="Muscles",g=1,j=12,u="",B=[],A=null,i=JSON.parse(localStorage.getItem("favorites"))||[];const J=document.getElementById("filterButtons"),v=document.getElementById("categoriesList"),h=document.getElementById("exercisesList"),I=document.getElementById("pagination"),S=document.getElementById("exercisesTitle"),M=document.getElementById("searchForm"),Q=document.getElementById("searchInput"),s=document.getElementById("exerciseModal"),T=document.getElementById("modalBody"),k=document.getElementById("modalClose"),c=document.getElementById("ratingModal"),x=document.getElementById("ratingModalClose"),C=document.getElementById("ratingForm"),F=document.getElementById("ratingStars"),P=document.getElementById("quoteText"),U=document.getElementById("quoteAuthor"),E=document.getElementById("popularTagsList"),m=document.getElementById("favoritesList"),b=document.getElementById("emptyState"),f=document.getElementById("burgerBtn"),L=document.getElementById("mobileMenu"),w=document.getElementById("subscribeForm"),z=document.getElementById("subscribeEmail"),$=document.getElementById("subscribeMessage");async function Z(e){try{const t=await fetch(`${d}/filters?filter=${e}`);if(!t.ok)throw new Error("Failed to fetch filters");return await t.json()}catch(t){return console.error("Error fetching filters:",t),[]}}async function H(e={}){try{const t=new URLSearchParams({page:e.page||g,limit:e.limit||j,...e.filter&&{filter:e.filter},...e.keyword&&{keyword:e.keyword}}),n=await fetch(`${d}/exercises?${t}`);if(!n.ok)throw new Error("Failed to fetch exercises");return await n.json()}catch(t){return console.error("Error fetching exercises:",t),[]}}async function G(e){try{const t=await fetch(`${d}/exercises/${e}`);if(!t.ok)throw new Error("Failed to fetch exercise details");return await t.json()}catch(t){return console.error("Error fetching exercise details:",t),null}}async function K(){try{const e=await fetch(`${d}/quote`);if(!e.ok)throw new Error("Failed to fetch quote");return await e.json()}catch(e){return console.error("Error fetching quote:",e),null}}async function V(e,t,n){try{const r=await fetch(`${d}/exercises/${e}/rating`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({rating:t})});if(!r.ok)throw new Error("Failed to submit rating");return await r.json()}catch(r){return console.error("Error submitting rating:",r),null}}async function W(e){try{const t=await fetch(`${d}/subscription`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})});if(!t.ok){const n=await t.json();throw new Error(n.message||"Subscription failed")}return await t.json()}catch(t){throw console.error("Error subscribing:",t),t}}async function X(){J.addEventListener("click",async e=>{e.target.classList.contains("filter-btn")&&(document.querySelectorAll(".filter-btn").forEach(t=>{t.classList.remove("active")}),e.target.classList.add("active"),p=e.target.dataset.filter,g=1,await _())})}async function _(){const e=await Z(p);if(v.innerHTML="",!e.length){v.innerHTML="<p>No categories found</p>";return}e.forEach(t=>{const n=document.createElement("div");n.className="category-card",n.innerHTML=`
      <h3 class="category-name">${t.name}</h3>
      <p class="category-type">${p}</p>
    `,n.addEventListener("click",async()=>{await l({filter:t.name}),S.textContent=`Exercises - ${t.name}`}),v.appendChild(n)})}async function l(e={}){const t=await H(e);B=t.results||[];const n=t.totalPages||1;Y(),ee(n)}function Y(){if(h.innerHTML="",!B.length){h.innerHTML="<p>No exercises found</p>";return}B.forEach(e=>{const t=i.some(a=>a._id===e._id),n=document.createElement("div");n.className="exercise-card",n.innerHTML=`
      <div class="exercise-card-header">
        <h3 class="exercise-name">${e.name}</h3>
        <button class="favorite-btn ${t?"active":""}" 
                data-id="${e._id}" 
                aria-label="Add to favorites">
          ‚ù§Ô∏è
        </button>
      </div>
      <div class="exercise-info">
        <p><strong>Body Part:</strong> ${e.bodyPart}</p>
        <p><strong>Target:</strong> ${e.target}</p>
        <p><strong>Calories:</strong> ${e.burnedCalories||"N/A"}</p>
        <p><strong>Rating:</strong> ${e.rating?.toFixed(1)||"N/A"}</p>
      </div>
      <button class="btn-primary btn-start" data-id="${e._id}">Start</button>
    `;const r=n.querySelector(".favorite-btn");r.addEventListener("click",a=>{a.stopPropagation(),R(e),r.classList.toggle("active")}),n.querySelector(".btn-start").addEventListener("click",()=>{O(e._id)}),h.appendChild(n)})}function ee(e){I.innerHTML="";for(let t=1;t<=e;t++){const n=document.createElement("button");n.className=`pagination-btn ${t===g?"active":""}`,n.textContent=t,n.addEventListener("click",async()=>{g=t,await l({filter:p,keyword:u}),window.scrollTo({top:0,behavior:"smooth"})}),I.appendChild(n)}}async function O(e){A=e;const t=await G(e);if(!t){T.innerHTML="<p>Error loading exercise details</p>",s.classList.add("active");return}const n=i.some(r=>r._id===e);T.innerHTML=`
    <div class="modal-exercise">
      ${t.gifUrl?`<video class="modal-video" controls><source src="${t.gifUrl}" type="video/mp4"></video>`:""}
      <h2 class="modal-title">${t.name}</h2>
      <p class="modal-rating">‚≠ê ${t.rating?.toFixed(1)||"N/A"}</p>
      <p><strong>Body Part:</strong> ${t.bodyPart}</p>
      <p><strong>Target Muscle:</strong> ${t.target}</p>
      <p><strong>Equipment:</strong> ${t.equipment||"N/A"}</p>
      <p><strong>Calories Burned:</strong> ${t.burnedCalories||"N/A"}</p>
      <p><strong>Description:</strong> ${t.description||"No description available"}</p>
      <div class="modal-actions">
        <button class="btn-primary btn-favorite ${n?"active":""}" data-id="${e}">
          ${n?"‚ù§Ô∏è Remove from Favorites":"ü§ç Add to Favorites"}
        </button>
        <button class="btn-secondary" id="ratingBtn">Give a rating</button>
      </div>
    </div>
  `,document.querySelector(".btn-favorite").addEventListener("click",r=>{r.target.classList.toggle("active"),R(t);const a=i.some(o=>o._id===e);r.target.textContent=a?"‚ù§Ô∏è Remove from Favorites":"ü§ç Add to Favorites"}),document.getElementById("ratingBtn").addEventListener("click",()=>{s.classList.remove("active"),te()}),s.classList.add("active")}function te(){ne(),c.classList.add("active"),C.onsubmit=async e=>{e.preventDefault();const t=document.querySelector('input[name="rating"]:checked').value,n=document.getElementById("ratingEmail").value;if(!D(n)){alert("Please enter a valid email address");return}await V(A,t),alert("Rating submitted successfully!"),c.classList.remove("active"),C.reset()}}function ne(){F.innerHTML="";for(let e=1;e<=5;e++){const t=document.createElement("label");t.className="rating-star-label",t.innerHTML=`
      <input type="radio" name="rating" value="${e}" ${e===3?"checked":""} />
      <span class="star">‚òÖ</span>
    `,F.appendChild(t)}}async function N(){const e=new Date().toDateString(),t=localStorage.getItem("dailyQuote"),n=localStorage.getItem("quoteDate");if(t&&n===e){q(JSON.parse(t));return}const r=await K();r&&(localStorage.setItem("dailyQuote",JSON.stringify(r)),localStorage.setItem("quoteDate",e),q(r))}function q(e){P&&(P.textContent=`"${e.quote}"`,U.textContent=`‚Äî ${e.author}`)}async function re(){const t=(await H({limit:5})).results?.slice(0,5)||[];E&&(E.innerHTML="",t.forEach(n=>{const r=document.createElement("li");r.className="popular-tag",r.textContent=n.name,r.addEventListener("click",async()=>{await l({keyword:n.name}),S.textContent=`Search Results: ${n.name}`}),E.appendChild(r)}))}function R(e){const t=i.findIndex(n=>n._id===e._id);t>-1?i.splice(t,1):i.push(e),localStorage.setItem("favorites",JSON.stringify(i))}function ae(){if(m){if(!i.length){b.style.display="block",m.innerHTML="";return}b.style.display="none",m.innerHTML="",i.forEach(e=>{const t=document.createElement("div");t.className="exercise-card",t.innerHTML=`
      <div class="exercise-card-header">
        <h3 class="exercise-name">${e.name}</h3>
        <button class="delete-btn" data-id="${e._id}" aria-label="Remove from favorites">
          üóëÔ∏è
        </button>
      </div>
      <div class="exercise-info">
        <p><strong>Body Part:</strong> ${e.bodyPart}</p>
        <p><strong>Target:</strong> ${e.target}</p>
        <p><strong>Calories:</strong> ${e.burnedCalories||"N/A"}</p>
        <p><strong>Rating:</strong> ${e.rating?.toFixed(1)||"N/A"}</p>
      </div>
      <button class="btn-primary btn-start" data-id="${e._id}">Start</button>
    `,t.querySelector(".delete-btn").addEventListener("click",n=>{n.stopPropagation(),i=i.filter(r=>r._id!==e._id),localStorage.setItem("favorites",JSON.stringify(i)),t.remove(),i.length||(b.style.display="block")}),t.querySelector(".btn-start").addEventListener("click",()=>{O(e._id)}),m.appendChild(t)})}}M&&M.addEventListener("submit",async e=>{e.preventDefault(),u=Q.value.trim(),g=1,u?(await l({keyword:u}),S.textContent=`Search Results: ${u}`):await l()});k&&k.addEventListener("click",()=>{s.classList.remove("active")});x&&x.addEventListener("click",()=>{c.classList.remove("active")});s&&s.addEventListener("click",e=>{e.target===s&&s.classList.remove("active")});c&&c.addEventListener("click",e=>{e.target===c&&c.classList.remove("active")});document.addEventListener("keydown",e=>{e.key==="Escape"&&(s.classList.remove("active"),c.classList.remove("active"))});f&&L&&(f.addEventListener("click",()=>{L.classList.toggle("active"),f.classList.toggle("active")}),document.querySelectorAll(".mobile-nav-link").forEach(e=>{e.addEventListener("click",()=>{L.classList.remove("active"),f.classList.remove("active")})}));w&&w.addEventListener("submit",async e=>{e.preventDefault();const t=z.value.trim();if(!D(t)){$.innerHTML='<p style="color: red;">Please enter a valid email address</p>';return}try{await W(t),$.innerHTML='<p style="color: green;">Successfully subscribed!</p>',w.reset()}catch{$.innerHTML='<p style="color: red;">Subscription failed. Please try again.</p>'}});function D(e){return/^\w+(\.\w+)?@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/.test(e)}async function oe(){window.location.pathname.includes("page-2")?(await N(),ae()):(await N(),await X(),await _(),await l(),await re())}oe();
//# sourceMappingURL=main-DBSlQhNJ.js.map
