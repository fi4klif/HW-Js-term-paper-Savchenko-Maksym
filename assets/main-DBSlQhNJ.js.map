{"version":3,"file":"main-DBSlQhNJ.js","sources":["../../src/main.js"],"sourcesContent":["// ===== API Configuration =====\nconst API_BASE_URL = 'https://your-energy.b.goit.study/api';\n\n// ===== State Management =====\nlet currentFilter = 'Muscles';\nlet currentPage = 1;\nlet currentLimit = 12;\nlet currentSearchQuery = '';\nlet currentExercises = [];\nlet selectedExerciseId = null;\nlet favorites = JSON.parse(localStorage.getItem('favorites')) || [];\n\n// ===== DOM Elements =====\nconst filterButtons = document.getElementById('filterButtons');\nconst categoriesList = document.getElementById('categoriesList');\nconst exercisesList = document.getElementById('exercisesList');\nconst pagination = document.getElementById('pagination');\nconst exercisesTitle = document.getElementById('exercisesTitle');\nconst searchForm = document.getElementById('searchForm');\nconst searchInput = document.getElementById('searchInput');\nconst exerciseModal = document.getElementById('exerciseModal');\nconst modalBody = document.getElementById('modalBody');\nconst modalClose = document.getElementById('modalClose');\nconst ratingModal = document.getElementById('ratingModal');\nconst ratingModalClose = document.getElementById('ratingModalClose');\nconst ratingForm = document.getElementById('ratingForm');\nconst ratingStars = document.getElementById('ratingStars');\nconst quoteText = document.getElementById('quoteText');\nconst quoteAuthor = document.getElementById('quoteAuthor');\nconst popularTagsList = document.getElementById('popularTagsList');\nconst favoritesList = document.getElementById('favoritesList');\nconst emptyState = document.getElementById('emptyState');\nconst burgerBtn = document.getElementById('burgerBtn');\nconst mobileMenu = document.getElementById('mobileMenu');\nconst subscribeForm = document.getElementById('subscribeForm');\nconst subscribeEmail = document.getElementById('subscribeEmail');\nconst subscribeMessage = document.getElementById('subscribeMessage');\n\n// ===== API Requests =====\n\n/**\n * Fetch exercise filters (Muscles, Body parts, Equipment)\n */\nasync function fetchFilters(filter) {\n  try {\n    const response = await fetch(`${API_BASE_URL}/filters?filter=${filter}`);\n    if (!response.ok) throw new Error('Failed to fetch filters');\n    return await response.json();\n  } catch (error) {\n    console.error('Error fetching filters:', error);\n    return [];\n  }\n}\n\n/**\n * Fetch exercises with filters\n */\nasync function fetchExercises(params = {}) {\n  try {\n    const query = new URLSearchParams({\n      page: params.page || currentPage,\n      limit: params.limit || currentLimit,\n      ...(params.filter && { filter: params.filter }),\n      ...(params.keyword && { keyword: params.keyword }),\n    });\n\n    const response = await fetch(`${API_BASE_URL}/exercises?${query}`);\n    if (!response.ok) throw new Error('Failed to fetch exercises');\n    return await response.json();\n  } catch (error) {\n    console.error('Error fetching exercises:', error);\n    return [];\n  }\n}\n\n/**\n * Fetch single exercise details\n */\nasync function fetchExerciseDetails(id) {\n  try {\n    const response = await fetch(`${API_BASE_URL}/exercises/${id}`);\n    if (!response.ok) throw new Error('Failed to fetch exercise details');\n    return await response.json();\n  } catch (error) {\n    console.error('Error fetching exercise details:', error);\n    return null;\n  }\n}\n\n/**\n * Fetch daily quote\n */\nasync function fetchQuote() {\n  try {\n    const response = await fetch(`${API_BASE_URL}/quote`);\n    if (!response.ok) throw new Error('Failed to fetch quote');\n    return await response.json();\n  } catch (error) {\n    console.error('Error fetching quote:', error);\n    return null;\n  }\n}\n\n/**\n * Submit exercise rating\n */\nasync function submitRating(exerciseId, rating, email) {\n  try {\n    const response = await fetch(`${API_BASE_URL}/exercises/${exerciseId}/rating`, {\n      method: 'PATCH',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ rating }),\n    });\n    if (!response.ok) throw new Error('Failed to submit rating');\n    return await response.json();\n  } catch (error) {\n    console.error('Error submitting rating:', error);\n    return null;\n  }\n}\n\n/**\n * Subscribe to newsletter\n */\nasync function subscribe(email) {\n  try {\n    const response = await fetch(`${API_BASE_URL}/subscription`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ email }),\n    });\n    if (!response.ok) {\n      const errorData = await response.json();\n      throw new Error(errorData.message || 'Subscription failed');\n    }\n    return await response.json();\n  } catch (error) {\n    console.error('Error subscribing:', error);\n    throw error;\n  }\n}\n\n// ===== UI Rendering Functions =====\n\n/**\n * Render filter buttons\n */\nasync function renderFilters() {\n  filterButtons.addEventListener('click', async e => {\n    if (e.target.classList.contains('filter-btn')) {\n      document.querySelectorAll('.filter-btn').forEach(btn => {\n        btn.classList.remove('active');\n      });\n      e.target.classList.add('active');\n      currentFilter = e.target.dataset.filter;\n      currentPage = 1;\n      await loadCategories();\n    }\n  });\n}\n\n/**\n * Load and render category cards\n */\nasync function loadCategories() {\n  const categories = await fetchFilters(currentFilter);\n  categoriesList.innerHTML = '';\n\n  if (!categories.length) {\n    categoriesList.innerHTML = '<p>No categories found</p>';\n    return;\n  }\n\n  categories.forEach(category => {\n    const card = document.createElement('div');\n    card.className = 'category-card';\n    card.innerHTML = `\n      <h3 class=\"category-name\">${category.name}</h3>\n      <p class=\"category-type\">${currentFilter}</p>\n    `;\n    card.addEventListener('click', async () => {\n      await loadExercises({ filter: category.name });\n      exercisesTitle.textContent = `Exercises - ${category.name}`;\n    });\n    categoriesList.appendChild(card);\n  });\n}\n\n/**\n * Load and render exercises\n */\nasync function loadExercises(params = {}) {\n  const data = await fetchExercises(params);\n  currentExercises = data.results || [];\n  const totalPages = data.totalPages || 1;\n\n  renderExercisesList();\n  renderPagination(totalPages);\n}\n\n/**\n * Render exercise cards\n */\nfunction renderExercisesList() {\n  exercisesList.innerHTML = '';\n\n  if (!currentExercises.length) {\n    exercisesList.innerHTML = '<p>No exercises found</p>';\n    return;\n  }\n\n  currentExercises.forEach(exercise => {\n    const isFavorite = favorites.some(fav => fav._id === exercise._id);\n    const card = document.createElement('div');\n    card.className = 'exercise-card';\n    card.innerHTML = `\n      <div class=\"exercise-card-header\">\n        <h3 class=\"exercise-name\">${exercise.name}</h3>\n        <button class=\"favorite-btn ${isFavorite ? 'active' : ''}\" \n                data-id=\"${exercise._id}\" \n                aria-label=\"Add to favorites\">\n          ‚ù§Ô∏è\n        </button>\n      </div>\n      <div class=\"exercise-info\">\n        <p><strong>Body Part:</strong> ${exercise.bodyPart}</p>\n        <p><strong>Target:</strong> ${exercise.target}</p>\n        <p><strong>Calories:</strong> ${exercise.burnedCalories || 'N/A'}</p>\n        <p><strong>Rating:</strong> ${exercise.rating?.toFixed(1) || 'N/A'}</p>\n      </div>\n      <button class=\"btn-primary btn-start\" data-id=\"${exercise._id}\">Start</button>\n    `;\n\n    const favoriteBtn = card.querySelector('.favorite-btn');\n    favoriteBtn.addEventListener('click', e => {\n      e.stopPropagation();\n      toggleFavorite(exercise);\n      favoriteBtn.classList.toggle('active');\n    });\n\n    card.querySelector('.btn-start').addEventListener('click', () => {\n      openExerciseModal(exercise._id);\n    });\n\n    exercisesList.appendChild(card);\n  });\n}\n\n/**\n * Render pagination buttons\n */\nfunction renderPagination(totalPages) {\n  pagination.innerHTML = '';\n\n  for (let i = 1; i <= totalPages; i++) {\n    const btn = document.createElement('button');\n    btn.className = `pagination-btn ${i === currentPage ? 'active' : ''}`;\n    btn.textContent = i;\n    btn.addEventListener('click', async () => {\n      currentPage = i;\n      await loadExercises({ filter: currentFilter, keyword: currentSearchQuery });\n      window.scrollTo({ top: 0, behavior: 'smooth' });\n    });\n    pagination.appendChild(btn);\n  }\n}\n\n/**\n * Open exercise details modal\n */\nasync function openExerciseModal(exerciseId) {\n  selectedExerciseId = exerciseId;\n  const exercise = await fetchExerciseDetails(exerciseId);\n\n  if (!exercise) {\n    modalBody.innerHTML = '<p>Error loading exercise details</p>';\n    exerciseModal.classList.add('active');\n    return;\n  }\n\n  const isFavorite = favorites.some(fav => fav._id === exerciseId);\n\n  modalBody.innerHTML = `\n    <div class=\"modal-exercise\">\n      ${exercise.gifUrl ? `<video class=\"modal-video\" controls><source src=\"${exercise.gifUrl}\" type=\"video/mp4\"></video>` : ''}\n      <h2 class=\"modal-title\">${exercise.name}</h2>\n      <p class=\"modal-rating\">‚≠ê ${exercise.rating?.toFixed(1) || 'N/A'}</p>\n      <p><strong>Body Part:</strong> ${exercise.bodyPart}</p>\n      <p><strong>Target Muscle:</strong> ${exercise.target}</p>\n      <p><strong>Equipment:</strong> ${exercise.equipment || 'N/A'}</p>\n      <p><strong>Calories Burned:</strong> ${exercise.burnedCalories || 'N/A'}</p>\n      <p><strong>Description:</strong> ${exercise.description || 'No description available'}</p>\n      <div class=\"modal-actions\">\n        <button class=\"btn-primary btn-favorite ${isFavorite ? 'active' : ''}\" data-id=\"${exerciseId}\">\n          ${isFavorite ? '‚ù§Ô∏è Remove from Favorites' : 'ü§ç Add to Favorites'}\n        </button>\n        <button class=\"btn-secondary\" id=\"ratingBtn\">Give a rating</button>\n      </div>\n    </div>\n  `;\n\n  document.querySelector('.btn-favorite').addEventListener('click', e => {\n    e.target.classList.toggle('active');\n    toggleFavorite(exercise);\n    const isFav = favorites.some(fav => fav._id === exerciseId);\n    e.target.textContent = isFav ? '‚ù§Ô∏è Remove from Favorites' : 'ü§ç Add to Favorites';\n  });\n\n  document.getElementById('ratingBtn').addEventListener('click', () => {\n    exerciseModal.classList.remove('active');\n    openRatingModal();\n  });\n\n  exerciseModal.classList.add('active');\n}\n\n/**\n * Open rating modal\n */\nfunction openRatingModal() {\n  renderRatingStars();\n  ratingModal.classList.add('active');\n\n  ratingForm.onsubmit = async e => {\n    e.preventDefault();\n    const rating = document.querySelector('input[name=\"rating\"]:checked').value;\n    const email = document.getElementById('ratingEmail').value;\n\n    if (!validateEmail(email)) {\n      alert('Please enter a valid email address');\n      return;\n    }\n\n    await submitRating(selectedExerciseId, rating, email);\n    alert('Rating submitted successfully!');\n    ratingModal.classList.remove('active');\n    ratingForm.reset();\n  };\n}\n\n/**\n * Render rating stars (1-5)\n */\nfunction renderRatingStars() {\n  ratingStars.innerHTML = '';\n  for (let i = 1; i <= 5; i++) {\n    const label = document.createElement('label');\n    label.className = 'rating-star-label';\n    label.innerHTML = `\n      <input type=\"radio\" name=\"rating\" value=\"${i}\" ${i === 3 ? 'checked' : ''} />\n      <span class=\"star\">‚òÖ</span>\n    `;\n    ratingStars.appendChild(label);\n  }\n}\n\n/**\n * Load and display daily quote\n */\nasync function loadQuote() {\n  const today = new Date().toDateString();\n  const cachedQuote = localStorage.getItem('dailyQuote');\n  const cachedDate = localStorage.getItem('quoteDate');\n\n  if (cachedQuote && cachedDate === today) {\n    displayQuote(JSON.parse(cachedQuote));\n    return;\n  }\n\n  const quote = await fetchQuote();\n  if (quote) {\n    localStorage.setItem('dailyQuote', JSON.stringify(quote));\n    localStorage.setItem('quoteDate', today);\n    displayQuote(quote);\n  }\n}\n\n/**\n * Display quote on page\n */\nfunction displayQuote(quote) {\n  if (quoteText) {\n    quoteText.textContent = `\"${quote.quote}\"`;\n    quoteAuthor.textContent = `‚Äî ${quote.author}`;\n  }\n}\n\n/**\n * Load popular exercises for hero section\n */\nasync function loadPopularTags() {\n  const exercises = await fetchExercises({ limit: 5 });\n  const tags = exercises.results?.slice(0, 5) || [];\n\n  if (popularTagsList) {\n    popularTagsList.innerHTML = '';\n    tags.forEach(exercise => {\n      const tag = document.createElement('li');\n      tag.className = 'popular-tag';\n      tag.textContent = exercise.name;\n      tag.addEventListener('click', async () => {\n        await loadExercises({ keyword: exercise.name });\n        exercisesTitle.textContent = `Search Results: ${exercise.name}`;\n      });\n      popularTagsList.appendChild(tag);\n    });\n  }\n}\n\n/**\n * Toggle favorite exercise\n */\nfunction toggleFavorite(exercise) {\n  const index = favorites.findIndex(fav => fav._id === exercise._id);\n  if (index > -1) {\n    favorites.splice(index, 1);\n  } else {\n    favorites.push(exercise);\n  }\n  localStorage.setItem('favorites', JSON.stringify(favorites));\n}\n\n/**\n * Render favorites page\n */\nfunction renderFavoritesPage() {\n  if (!favoritesList) return;\n\n  if (!favorites.length) {\n    emptyState.style.display = 'block';\n    favoritesList.innerHTML = '';\n    return;\n  }\n\n  emptyState.style.display = 'none';\n  favoritesList.innerHTML = '';\n\n  favorites.forEach(exercise => {\n    const card = document.createElement('div');\n    card.className = 'exercise-card';\n    card.innerHTML = `\n      <div class=\"exercise-card-header\">\n        <h3 class=\"exercise-name\">${exercise.name}</h3>\n        <button class=\"delete-btn\" data-id=\"${exercise._id}\" aria-label=\"Remove from favorites\">\n          üóëÔ∏è\n        </button>\n      </div>\n      <div class=\"exercise-info\">\n        <p><strong>Body Part:</strong> ${exercise.bodyPart}</p>\n        <p><strong>Target:</strong> ${exercise.target}</p>\n        <p><strong>Calories:</strong> ${exercise.burnedCalories || 'N/A'}</p>\n        <p><strong>Rating:</strong> ${exercise.rating?.toFixed(1) || 'N/A'}</p>\n      </div>\n      <button class=\"btn-primary btn-start\" data-id=\"${exercise._id}\">Start</button>\n    `;\n\n    card.querySelector('.delete-btn').addEventListener('click', e => {\n      e.stopPropagation();\n      favorites = favorites.filter(fav => fav._id !== exercise._id);\n      localStorage.setItem('favorites', JSON.stringify(favorites));\n      card.remove();\n      if (!favorites.length) {\n        emptyState.style.display = 'block';\n      }\n    });\n\n    card.querySelector('.btn-start').addEventListener('click', () => {\n      openExerciseModal(exercise._id);\n    });\n\n    favoritesList.appendChild(card);\n  });\n}\n\n// ===== Event Listeners =====\n\n/**\n * Search form submission\n */\nif (searchForm) {\n  searchForm.addEventListener('submit', async e => {\n    e.preventDefault();\n    currentSearchQuery = searchInput.value.trim();\n    currentPage = 1;\n    if (currentSearchQuery) {\n      await loadExercises({ keyword: currentSearchQuery });\n      exercisesTitle.textContent = `Search Results: ${currentSearchQuery}`;\n    } else {\n      await loadExercises();\n    }\n  });\n}\n\n/**\n * Modal close button\n */\nif (modalClose) {\n  modalClose.addEventListener('click', () => {\n    exerciseModal.classList.remove('active');\n  });\n}\n\nif (ratingModalClose) {\n  ratingModalClose.addEventListener('click', () => {\n    ratingModal.classList.remove('active');\n  });\n}\n\n/**\n * Close modal on backdrop click\n */\nif (exerciseModal) {\n  exerciseModal.addEventListener('click', e => {\n    if (e.target === exerciseModal) {\n      exerciseModal.classList.remove('active');\n    }\n  });\n}\n\nif (ratingModal) {\n  ratingModal.addEventListener('click', e => {\n    if (e.target === ratingModal) {\n      ratingModal.classList.remove('active');\n    }\n  });\n}\n\n/**\n * Close modal on Escape key\n */\ndocument.addEventListener('keydown', e => {\n  if (e.key === 'Escape') {\n    exerciseModal.classList.remove('active');\n    ratingModal.classList.remove('active');\n  }\n});\n\n/**\n * Mobile menu toggle\n */\nif (burgerBtn && mobileMenu) {\n  burgerBtn.addEventListener('click', () => {\n    mobileMenu.classList.toggle('active');\n    burgerBtn.classList.toggle('active');\n  });\n\n  document.querySelectorAll('.mobile-nav-link').forEach(link => {\n    link.addEventListener('click', () => {\n      mobileMenu.classList.remove('active');\n      burgerBtn.classList.remove('active');\n    });\n  });\n}\n\n/**\n * Subscribe form\n */\nif (subscribeForm) {\n  subscribeForm.addEventListener('submit', async e => {\n    e.preventDefault();\n    const email = subscribeEmail.value.trim();\n\n    if (!validateEmail(email)) {\n      subscribeMessage.innerHTML =\n        '<p style=\"color: red;\">Please enter a valid email address</p>';\n      return;\n    }\n\n    try {\n      await subscribe(email);\n      subscribeMessage.innerHTML =\n        '<p style=\"color: green;\">Successfully subscribed!</p>';\n      subscribeForm.reset();\n    } catch (error) {\n      subscribeMessage.innerHTML =\n        '<p style=\"color: red;\">Subscription failed. Please try again.</p>';\n    }\n  });\n}\n\n// ===== Utility Functions =====\n\n/**\n * Email validation regex\n */\nfunction validateEmail(email) {\n  const regex = /^\\w+(\\.\\w+)?@[a-zA-Z_]+?\\.[a-zA-Z]{2,3}$/;\n  return regex.test(email);\n}\n\n// ===== Initialization =====\n\n/**\n * Initialize app based on current page\n */\nasync function init() {\n  const currentPage = window.location.pathname;\n\n  if (currentPage.includes('page-2')) {\n    // Favorites page\n    await loadQuote();\n    renderFavoritesPage();\n  } else {\n    // Home page\n    await loadQuote();\n    await renderFilters();\n    await loadCategories();\n    await loadExercises();\n    await loadPopularTags();\n  }\n}\n\n// Start the app\ninit();\n"],"names":["API_BASE_URL","currentFilter","currentPage","currentLimit","currentSearchQuery","currentExercises","selectedExerciseId","favorites","filterButtons","categoriesList","exercisesList","pagination","exercisesTitle","searchForm","searchInput","exerciseModal","modalBody","modalClose","ratingModal","ratingModalClose","ratingForm","ratingStars","quoteText","quoteAuthor","popularTagsList","favoritesList","emptyState","burgerBtn","mobileMenu","subscribeForm","subscribeEmail","subscribeMessage","fetchFilters","filter","response","error","fetchExercises","params","query","fetchExerciseDetails","id","fetchQuote","submitRating","exerciseId","rating","email","subscribe","errorData","renderFilters","btn","loadCategories","categories","category","card","loadExercises","data","totalPages","renderExercisesList","renderPagination","exercise","isFavorite","fav","favoriteBtn","e","toggleFavorite","openExerciseModal","i","isFav","openRatingModal","renderRatingStars","validateEmail","label","loadQuote","today","cachedQuote","cachedDate","displayQuote","quote","loadPopularTags","tags","tag","index","renderFavoritesPage","link","init"],"mappings":"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"}